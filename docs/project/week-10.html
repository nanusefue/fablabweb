<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/fablabweb/assets/ico/favicon.ico">

    <title>FAB ACADEMY 2017 - Output Device [10]</title>

    <!-- Bootstrap core CSS -->
    <link href="/fablabweb/assets/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/fablabweb/assets/css/style.css" rel="stylesheet">
    <link href="/fablabweb/assets/css/font-awesome.min.css" rel="stylesheet">
        <link href="/fablabweb/assets/css/syntax.css" rel="stylesheet">

    <!-- Custom CSS -->
    <!--<link rel="stylesheet" href="/fablabweb/css/main.css">-->


    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

    <body>
        <!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/fablabweb/">FAB ACADEMY 2017</a>
    </div>
    <div class="navbar-collapse collapse navbar-right">
      <ul class="nav navbar-nav">
        <li ><a href="/fablabweb/">HOME</a></li>
      <!--  <li ><a href="/fablabweb/blog/">BLOG</a></li> -->
     <!--   <li ><a href="/fablabweb/portfolio/">PORTFOLIO</a></li> -->
        <li ><a href="/fablabweb/about/">ABOUT</a></li>
     <!--   <li ><a href="/fablabweb/contact/">CONTACT</a></li>-->
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>

            <div id="blue">
    <div class="container">
        <div class="row">
            <h3>Output Device [10]</h3>
        </div><!-- /row -->
    </div> <!-- /container -->
</div><!-- /blue -->

<div class="container mt">
    <div class="row">

        <div class="col-lg-10 col-lg-offset-1 centered">
    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            
            
        </div>
    </div> <!--/Carousel -->
</div>


        <div class="col-lg-10 col-lg-offset-1">
            <div class="spacing"></div>

            <h2>Assignment</h2>
<h3>Add an output device to a microcontroller board you've designed and program it to do something</h3>

<p>As part of another assigament (<a target="_blank" href="week-08.html">Week 8</a>) design a board that could be used as an arduino, the idea is not to create a plate for each of the electronic assignaments, there are many boards that use arduino and mircroprocesarores as the Attiny85 / 44/84, in my case I have decided to buy an attiny 84, which is the same as 44 but has 8k of flash memory, allowing to add more lines of code by applying the programming capacity.</p>

<p>In the previous assignment I have also connected a servo motor, in this case I decided to try with an OLED display, since the 8k allowed me to program all the necessary code for it to work.</p>

<h5>Schematic</h5>
<p><img src="/fablabweb/assets/img/project/week13/schematic_low.jpg" alt="webpage jekyll" /></p>
<h5>Eagle/PCB</h5>

<div class="row">
<div class="col-xs-6  col-lg-6  ">
<img src="/fablabweb/assets/img/project/week13/board.png" alt="webpage jekyll" />
</div>
<div class="col-xs-6  col-lg-6  ">
<img src="/fablabweb/assets/img/project/week13/tinyduino.jpg" alt="webpage jekyll" />
</div>
</div>
<h3>I2C Protocol</h3>
<p>I2C requires a mere two wires, like asynchronous serial, but those two wires can support up to 1008 slave devices. Also, unlike SPI, I2C can support a multi-master system, allowing more than one master to communicate with all devices on the bus (although the master devices canâ€™t talk to each other over the bus and must take turns using the bus lines).</p>

<p>Data rates fall between asynchronous serial and SPI; most I2C devices can communicate at 100kHz or 400kHz. There is some overhead with I2C; for every 8 bits of data to be sent, one extra bit of meta data must be transmitted.</p>

<p>The hardware required to implement I2C is more complex than SPI, but less than asynchronous serial. It can be fairly trivially implemented in software.</p>

<div class="col-xs-12 ">

<img width="900px" src="/fablabweb/assets/img/project/week10/i2c.png" alt="webpage jekyll" />

</div>

<p>Adapt these SCA and SCL port and pin definition to your target.

<ul>
<li>#define SDA     	6		// SDA Port A, Pin 6</li>   
<li>#define SCL		4		// SCL Port A, Pin 4</li>
<li>#define SDA_PORT        PORTA           // SDA Port A</li>
<li>#define SCL_PORT        PORTA           // SCL Port A</li>
</ul>
</p>

<div class="col-xs-10 col-xs-offset-2 col-lg-10 col-lg-offset-2 ">

<img width="600px" src="/fablabweb/assets/img/project/week10/oled.png" alt="webpage jekyll" />
<br />
</div>
<div class="col-xs-12 ">
<br />


<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="code"><pre><span class="cp">#include &lt;DigisparkOLED.h&gt;
#include &lt;Wire.h&gt;
#include "img0_128x64c1.h"
#include "digistump_128x64c1.h"
</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// put your setup code here, to run once:
</span>
  <span class="n">oled</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>

<span class="p">}</span>

<span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
  
  <span class="c1">// put your main code here, to run repeatedly:
</span>  <span class="n">oled</span><span class="p">.</span><span class="n">fill</span><span class="p">(</span><span class="mh">0xFF</span><span class="p">);</span> <span class="c1">//fill screen with color
</span>  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="n">oled</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span> <span class="c1">//all black
</span>  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="c1">//usage: oled.setCursor(X IN PIXELS, Y IN ROWS OF 8 PIXELS STARTING WITH 0);
</span>  <span class="n">oled</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">//top left
</span>  <span class="n">oled</span><span class="p">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">FONT8X16</span><span class="p">);</span>
  <span class="n">oled</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">"FABACADENY 2017"</span><span class="p">));</span> <span class="c1">//wrap strings in F() to save RAM!
</span>  <span class="n">oled</span><span class="p">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">FONT6X8</span><span class="p">);</span>
  <span class="n">oled</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">"ESTEBAN OLED!"</span><span class="p">));</span>
  <span class="n">oled</span><span class="p">.</span><span class="n">setCursor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">//two rows down because the 8x16 font takes two rows of 8
</span>  <span class="n">oled</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s">"BCN"</span><span class="p">));</span> <span class="c1">//println will move the cursor 8 or 16 pixels down (based on the front) and back to X=0
</span>  
  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>

<span class="p">}</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<p>Here a video of how the oled works after programming it, the plate is fed through the USB port.</p>
<div class="col-xs-12 ">

<video width="800" controls="" loop="">
  <source src="/fablabweb/assets/img/project/week10/oled.mp4" type="video/mp4" />
  Your browser does not support HTML5 video.
</video>
</div>

<h3>Referens</h3>

<p><a href="http://www.avrfreaks.net/forum/i2c-library-attiny84">I2C Attiny</a></p>
<p><a href="https://cdn-shop.adafruit.com/datasheets/SSD1306.pdf">DataSheet Oled</a></p>

<p><a href="https://github.com/digistump/DigistumpArduino/tree/master/digistump-avr/libraries/DigisparkOLED">DigisparkOLED Library</a></p>



        </div>
      <!--  <div class="col-lg-4 col-lg-offset-1">
            <div class="spacing"></div>
            <h4>Project Details</h4>
            <div class="hline"></div>
            <p><b>Date:</b> Mar 5, 2017</p>
            <p><b>Author:</b> Marcel Newman</p>
            <p><b>Categories:</b> project</p>
            <p><b>Tagged:</b> Flat, UI, Development</p>
            <p><b>Client:</b> Wonder Corp.</p>
            <p><b>Website:</b> <a href="http://blacktie.co">http://blacktie.co</a></p> 
        </div>-->
    </div><! --/row -->
</div><! --/container -->
	 
<div id="portfoliowrap">
    <div class="portfolio-centered">
        <h3></h3>
        <div class="recentitems portfolio">
            
        </div>
    </div>
</div> 


        <div id="footerwrap">
    <div class="container">
        <div class="row">
           <!-- <div class="col-lg-4">
                <h4>About</h4>
                <div class="hline-w"></div>
                <p></p>
            </div> -->
            <div class="col-lg-4">
                <p>
                    
                        <a target="_blank" href="https://github.com/nanusefue" class="btn-social btn-outline"><i class="fa fa-github"></i></a>
                    
                        <a target="_blank" href="https://www.instagram.com/nanusefue/" class="btn-social btn-outline"><i class="fa fa-instagram"></i></a>
                    
                </p>
            </div>
            <div class="col-lg-8" style="color:white">
                <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
                    <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a>
                    <br />This work is licensed under a 
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>
     
            </div> 
        </div><! --/row -->
    </div><! --/container -->
</div><! --/footerwrap -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="/fablabweb/assets/js/bootstrap.min.js"></script>
<script src="/fablabweb/assets/js/retina-1.1.0.js"></script>
<script src="/fablabweb/assets/js/jquery.hoverdir.js"></script>
<script src="/fablabweb/assets/js/jquery.hoverex.min.js"></script>
<script src="/fablabweb/assets/js/jquery.prettyPhoto.js"></script>
<script src="/fablabweb/assets/js/jquery.isotope.min.js"></script>
<script src="/fablabweb/assets/js/custom.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90860442-1', 'auto');
  ga('send', 'pageview');

</script>

<script>
// Portfolio
(function($) {
	"use strict";
	var $container = $('.portfolio'),
		$items = $container.find('.portfolio-item'),
		portfolioLayout = 'fitRows';
		
		if( $container.hasClass('portfolio-centered') ) {
			portfolioLayout = 'masonry';
		}
				
		$container.isotope({
			filter: '*',
			animationEngine: 'best-available',
			layoutMode: portfolioLayout,
			animationOptions: {
			duration: 750,
			easing: 'linear',
			queue: false
		},
		masonry: {
		}
		}, refreshWaypoints());
		
		function refreshWaypoints() {
			setTimeout(function() {
			}, 1000);   
		}
				
		$('nav.portfolio-filter ul a').on('click', function() {
				var selector = $(this).attr('data-filter');
				$container.isotope({ filter: selector }, refreshWaypoints());
				$('nav.portfolio-filter ul a').removeClass('active');
				$(this).addClass('active');
				return false;
		});
		
		function getColumnNumber() { 
			var winWidth = $(window).width(), 
			columnNumber = 1;
		
			if (winWidth > 1200) {
				columnNumber = 5;
			} else if (winWidth > 950) {
				columnNumber = 4;
			} else if (winWidth > 600) {
				columnNumber = 3;
			} else if (winWidth > 400) {
				columnNumber = 2;
			} else if (winWidth > 250) {
				columnNumber = 1;
			}
				return columnNumber;
			}       
			
			function setColumns() {
				var winWidth = $(window).width(), 
				columnNumber = getColumnNumber(), 
				itemWidth = Math.floor(winWidth / columnNumber);
				
				$container.find('.portfolio-item').each(function() { 
					$(this).css( { 
					width : itemWidth + 'px' 
				});
			});
		}
		
		function setPortfolio() { 
			setColumns();
			$container.isotope('reLayout');
		}
			
		$container.imagesLoaded(function () { 
			setPortfolio();
		});
		
		$(window).on('resize', function () { 
		setPortfolio();          
	});
})(jQuery);
</script>
    </body>
</html>